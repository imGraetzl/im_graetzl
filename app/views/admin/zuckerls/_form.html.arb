active_admin_form_for [:admin, resource] do |f|
  inputs do
    f.semantic_errors

    random_id = SecureRandom.uuid
    input :user, label: "User", as: :string, input_html: {
      class: 'admin-autocomplete-component',
      placeholder: 'Name, Username oder E-Mail ...',
      data: { autocomplete_url: '/admin/autocomplete/users', user_autocomplete_id: "user_#{random_id}" }
    }
    input :user_id, as: :hidden, input_html: { 
      class: 'admin-autocomplete-id-target', 
      data: { user_autocomplete_id: "user_#{random_id}" }
    }

    random_id = SecureRandom.uuid
    input :location, label: "Location", as: :string, input_html: {
      class: 'admin-autocomplete-component',
      placeholder: 'Title, Slogan oder E-Mail ...',
      data: { autocomplete_url: '/admin/autocomplete/locations', resource: 'locations', location_autocomplete_id: "location_#{random_id}" }
    }
    input :location_id, as: :hidden, input_html: { 
      class: 'admin-autocomplete-id-target', 
      data: { location_autocomplete_id: "location_#{random_id}" }
    }

    input :title
    input :description
    input :link
    input :cover_photo, as: :file, hint: f.object.cover_photo && image_tag(f.object.cover_photo_url(:thumb))
    input :remove_cover_photo, as: :boolean if f.object.cover_photo
    input :entire_region
    input :starts_at
    input :ends_at
  end
  inputs 'Billing Address' do
    input :company
    input :name
    input :address
    input :zip
    input :city
  end
  actions
end
