(function() {
  var $cardContainer = $("[data-behavior='energies-card-container']");
  var $paginateLink = $("[data-behavior='energies-paginate-link']");

  <% if params[:page].blank? %>
    $cardContainer.html("<%= j render partial: 'energies/energies_polymorphic', collection: @energies, as: :energy %>");
  <% else %>
    $cardContainer.append("<%= j render partial: 'energies/energies_polymorphic', collection: @energies, as: :energy %>");
  <% end %>

  <% if @energies.next_page.present? %>
    $paginateLink.attr('href', "<%= raw(next_page_url(@energies)) %>").removeClass("hide");
  <% else %>
    $paginateLink.addClass("hide");
  <% end %>
})();
