<%= form_for(@group) do |f| %>
<%= form_errors_for @group %>
<div class="form-block">

  <div class="input-field">
    <%= f.label :title do %>
    <%= icon_tag "record" %>
    <span>Gruppen Titel</span>
    <% end %>
    <%= f.text_field :title, placeholder: 'Gib deiner Gruppe einen kurzen Titel ...' %>
  </div>

  <div class="input-textarea">
    <%= f.label :description do %>
    <%= icon_tag "layout-document" %>
    <span>Beschreibung</span>
    <% end %>
    <%= f.text_area :description, placeholder: 'Hier kannst du deine Gruppe in wenigen Sätzen ausführlicher beschreiben ..' %>
  </div>

  <div class="input-checkbox -permission">
    <%= f.check_box :private %>
    <%= f.label :private, 'Private Gruppe (nur Gruppenmitglieder können Inhalte einsehen)' %>
  </div>

  <div class="upload-oldschool">
    <%= f.label :cover_photo do %>
      <%= icon_tag "photo-camera" %>
      <span>Coverfoto</span>
    <% end %>
    <div class="field-wrp">
      <% if f.object.cover_photo %>
      <div class="preview-wrp">
        <%= image_tag attachment_url(f.object, :cover_photo, :fill, 159, 60) %>
        <div class="input-checkbox">
          <%= f.check_box :remove_cover_photo, { class: 'deleteCheckbox' } %>
          <%= f.label :remove_cover_photo, 'Löschen' %>
        </div>
      </div>
      <% end %>
      <%= f.attachment_field :cover_photo, direct: true, presigned: true %>
    </div>
  </div>

  <h2 class="hl-main">Gruppen <span>Kategorien</span></h2>
  <p>Select up to 3 categories</p>
  <div class="group-categories">
    <%= f.collection_check_boxes :group_category_ids, GroupCategory.all, :id, :title do |b| %>
    <div class="input-checkbox">
      <%= b.check_box %>
      <%= b.label %>
    </div>
    <% end %>
  </div>

  <%= render "groups/form/connections", f: f %>

  <h2 class="hl-main">Diskussions <span>Kategorien</span></h2>
  <div class="group-prices">
    <%= f.fields_for :discussion_categories do |category_form| %>
      <%= render 'groups/form/discussion_category_fields', f: category_form %>
    <% end %>
    <%= link_to_add_association 'Kategorie hinzufügen', f, :discussion_categories, class: 'add', partial: 'groups/form/discussion_category_fields' %>
  </div>

  <h2 class="hl-main">Graetzls</h2>
  <div id="district-graetzl-select">
    <div class="input-select">
      <%= f.select :district_ids, district_select_options, {}, { multiple: true, class: 'district-select' } %>
    </div>
    <div class="input-select">
      <%= f.select :graetzl_ids, graetzl_select_options, {}, { multiple: true, class: 'graetzl-select' } %>
    </div>
  </div>

  <%= f.button @group.new_record? ? 'Gruppe erstellen' : 'Speichern', data: { disable_with: 'speichert...' }, class: 'btn-primary' %>

</div>
<% end %>
